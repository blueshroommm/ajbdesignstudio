"use strict";(globalThis.webpackChunkextract_css=globalThis.webpackChunkextract_css||[]).push([["74522"],{114971:function(M,E,t){t.d(E,{Z:()=>P});var a=t(221661),e=t(981491),d=t(994336),r=t.n(d),o=t(886346);const l="SiteUserInfo",u=()=>{const n=r().get(l);if(!n)return null;try{return JSON.parse(n)}catch(c){return console.error("Could not parse user info cookie value",c),null}},_={isAuthenticated(){const n=u();return!!(n!=null&&n.authenticated)},getSiteUserId(){const n=u();return n==null?void 0:n.siteUserId}};function i(){return{end_user_session_id:r().get(o.oV),ss_cvr:r().get(o.Y7),email_derived_user_id:_.getSiteUserId()}}class m{constructor(c,s){this.tracker=new a.SiteVisitorClient({customSchemaName:c,sourceEnvironment:e.isInternal()?a.SourceEnvironment.STAGING:a.SourceEnvironment.PROD},s)}track(c){const s=i();s.ss_cvr&&this.tracker.track({...s,...c})}}const P=m},164160:function(M,E,t){t.d(E,{h:()=>P});var a=t(392338),e=t.n(a),d=t(375377),r=t.n(d),o=t(642979),l=t.n(o),u=t(457728),O=t.n(u);function _(n,c){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(n);c&&(v=v.filter(function(I){return Object.getOwnPropertyDescriptor(n,I).enumerable})),s.push.apply(s,v)}return s}function i(n){for(var c=1;c<arguments.length;c++){var s=arguments[c]!=null?arguments[c]:{};c%2?_(Object(s),!0).forEach(function(v){l()(n,v,s[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):_(Object(s)).forEach(function(v){Object.defineProperty(n,v,Object.getOwnPropertyDescriptor(s,v))})}return n}var m=function(c){var s,v={};return i(i(i({},c),{},{nameOrder:(s=c.formFieldFormats)===null||s===void 0?void 0:s.initialNameOrder},c.formFieldFormats),{},{initialValues:v})},P=function(){var n=r()(O().mark(function c(s,v){var I,D,f,T,R,U,C=arguments;return O().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return I=C.length>2&&C[2]!==void 0?C[2]:window,A.next=1,v(I,s.captchaEnabled);case 1:return D=A.sent,f=D.enterpriseRendered,T=D.showRecaptchaBadge,R=s.captchaEnabled&&!f,U=function(){s.captchaEnabled&&f&&T&&T({isLightbox:s.useLightbox,win:I})},A.abrupt("return",m(i(i({},s),{},{captchaEnabled:R,globalOnFocus:U})));case 2:case"end":return A.stop()}},c)}));return function(s,v){return n.apply(this,arguments)}}()},228475:function(M,E,t){t.d(E,{j:()=>I});var a=t(974443),e=t.n(a),d=t(114971),r,o;const l={USER:"user"},u={CLICK:"click",VIEW:"view"},O={FORM:"form"},_="content-data",i="FormActions",m="web",P="content-data-platform",n=D=>({[e().FORM_BLOCK]:"FORM_BLOCK",[e().NEWSLETTER_BLOCK]:"NEWSLETTER_BLOCK",[e().SLIDE]:"SLIDE",[e().PRODUCT]:"PRODUCT",[e().DONATION]:"DONATION",[e().CHECKOUT_PAGE]:"CHECKOUT_PAGE"})[D]??String(D),c=new d.Z(i,{actor:l.USER,action:u.CLICK,object_type:O.FORM,product_area:_,custom_schema_name:i,event_source:m,event_owner_team:P,website_id:((r=window.Static)===null||r===void 0||(r=r.SQUARESPACE_CONTEXT)===null||r===void 0||(r=r.website)===null||r===void 0?void 0:r.id)??null,context_website_id:((o=window.Static)===null||o===void 0||(o=o.SQUARESPACE_CONTEXT)===null||o===void 0||(o=o.website)===null||o===void 0?void 0:o.id)??null}),I={trackInitiateForm:(D,f)=>{let{formId:T,formLength:R}=f;c.track({event_name:"FORM_INITIATED",form_id:T,form_length:R,form_type:n(D)})},trackFormImpression:(D,f)=>{let{formId:T,formLength:R}=f;c.track({event_name:"FORM_IMPRESSION",action:u.VIEW,form_id:T,form_length:R,form_type:n(D)})}}},628380:function(M,E,t){var a=t(311227),e=t(517197);(0,e.U)(a.ZP)},867672:function(M,E,t){var a=t(628380)},576179:function(M,E,t){t.d(E,{Z:()=>l});var a=t(174161),e=t(679539),d=t(311227),r=t(731243);const l=u=>{let{translationLocale:O,formattingLocale:_,children:i}=u;return a.createElement(e.Z.Provider,{value:{translationLocale:O,formattingLocale:_,cldrLoader:r.Z,...d.Td}},i)}},875761:function(M,E,t){t.d(E,{Z:()=>l});var a=t(174161),e=t(684353),d=t(576179),r=t(743536);function o(){return e.translationLocale}const l=u=>{let{children:O}=u;return a.createElement(d.Z,{translationLocale:o(),formattingLocale:(0,r.n)()},O)}},743536:function(M,E,t){t.d(E,{n:()=>e});var a=t(684353);function e(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;var r,o,l;return(d==null||(l=d.Static)===null||l===void 0||(o=l.SQUARESPACE_CONTEXT)===null||o===void 0||(r=o.website)===null||r===void 0?void 0:r.formattingLocale)??a.translationLocale}},287300:function(M,E,t){t.d(E,{Jl:()=>o,Oj:()=>l,dU:()=>O,ge:()=>d,ni:()=>r,r8:()=>u});var a=t(180909),e=t(998124);const d=e.getDomain,r=e.isInternal,o=e.isStage,l=e.isQA,u=e.isDev,O=function(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;var i,m;const P=_==null||(m=_.Static)===null||m===void 0||(i=m.SQUARESPACE_CONTEXT)===null||i===void 0?void 0:i.env;return P||(0,a.$e)(n=>{n.setTag("critical-issue","true"),n.setTag("user_facing","true"),(0,a.Tb)(new Error("Environment is not defined"))}),P}},132924:function(M,E,t){t.d(E,{S:()=>u,n:()=>l});var a=t(867672),e=t(174161),d=t(233284),r=t(257729),o=t(875761);const l=O=>{let{onMount:_,children:i}=O;return(0,e.useEffect)(()=>{_==null||_()},[_]),e.createElement(e.StrictMode,null,e.createElement(o.Z,null,i))},u=(O,_,i)=>{(0,d.render)(e.createElement(l,{onMount:i},e.createElement(r.Z,O)),_)}},370798:function(M,E,t){t.r(E),t.d(E,{renderFormPreviewForWebsiteComponent:()=>P});var a=t(867672),e=t(132924),d=t(680794),r=t(37243),o=t(963327),l=t(164160),u=t(114288),O=t(976169),_=t(228475),i=t(974443),m=t.n(i);const P=async(n,c,s)=>{const v=Object.fromEntries(new URLSearchParams(window.location.search)),D={...await(0,l.h)(n,r.Z,window),queryParams:v,recaptchaSiteKey:o.getSiteKey(window),uploadAuthorization:()=>(0,d.t)(n,window),mediaPlatformLibraryId:n.formId,mediaPlatformBaseUrl:(0,d.S)(window)};if(s){const f=(0,u.z)(n,window);D.onSubmit=async T=>(await f(T),!0),D.trackInitiateForm=T=>{_.j.trackInitiateForm(m().FORM_BLOCK,T)},D.trackFormImpression=T=>{_.j.trackFormImpression(m().FORM_BLOCK,T)},(0,O.if)(n.formId)}(0,e.S)(D,c)}},680794:function(M,E,t){t.d(E,{S:()=>u,t:()=>O});var a=t(628380),e=t(76149),d=t(528215),r=t(287300);const o="https://media.dev.squarespace.net",l="https://media-api.squarespace.com",u=_=>(0,r.Jl)(_)||(0,r.Oj)(_)||(0,r.r8)(_)?o:l,O=async(_,i)=>{let m;const P=u(i),n=_.formId;return _.captchaEnabled&&(m=await d.TJ(i,d.aI.FORM_BLOCK)),m==null?{status:400,errorMessage:"File Upload ReCAPTCHA token null or undefined",token:null}:await e.g.getShortLivedTokenFromRecaptchaValidationEndpoint(m,P,n)}},114288:function(M,E,t){t.d(E,{z:()=>i});var a=t(313163),e=t(635066),d=t(739233),r=t(976169),o=t(528215);const l="/api/form/FormSubmissionKey",u="/api/form/SaveFormSubmission",O={withCredentials:!0},_=async(m,P,n)=>{const{data:c}=await e.default.post(l),{key:s}=c;if(!s)throw new Error("Got invalid form submission key");const v=()=>o.TJ(n,o.aI.FORM_BLOCK),I=await(0,d.Q)({key:s,formData:P,formContext:m,getRecaptchaEnterpriseV3Token:v});return(0,r._5)(I),e.default.post(u,{...I,isLegacyBrowser:!!P[a.E]},O)},i=(m,P)=>n=>_(m,n,P)},37243:function(M,E,t){t.d(E,{Z:()=>r});var a=t(528215),e=t(213083);const r=async function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;if(arguments.length>1?arguments[1]:void 0){const u=(0,e.Z)(o);return await a.DU(o,u),{enterpriseRendered:!0,showRecaptchaBadge:a.ZQ}}return{enterpriseRendered:!1}}}}]);

//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/sourcemaps/7ff0f98b19d9c616/async-editor-render-form-74a191f4fb2865b2-min.en-US.js.map