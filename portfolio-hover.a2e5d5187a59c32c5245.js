"use strict";(globalThis.webpackChunknew_bedford_framework=globalThis.webpackChunknew_bedford_framework||[]).push([[660],{10520:(t,e,i)=>{i.r(e),i.d(e,{PortfolioHover:()=>E,default:()=>O});var s=i(68651),o=i(68900),r=i(15146),n=i(68444),a=i.n(n),h=i(63285),l=i(67373);const m=t=>t.match(/[A-Z]{2,}(?=[A-Z][a-z0-9]*|\b)|[A-Z]?[a-z0-9]*|[A-Z]|[0-9]+/g).filter(Boolean).map(t=>t.toLowerCase()).join("-");var d=i(75396),u=i(22902);function c(t,e,i){var s;return(e="symbol"==typeof(s=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?s:s+"")in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class g extends l.A{constructor(t,e){var i;super(e),i=this,c(this,"onResize",()=>{}),c(this,"setImage",function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=Date.now()-i.last,o=s>=i.animationDuration,r=e||!i.animationDuration?0:o?100:Math.max(0,i.animationDuration-s);clearTimeout(i.showImageTimeout),clearTimeout(i.hideImageTimeout),clearTimeout(i.imageAnimatingTimeout),i.onSetImage(t,e),t!==i.currentIndex&&(i.showImageTimeout=setTimeout(()=>{i.isPersistImages||i.hideImages(),i.showImage(t,e),i.last=Date.now()},r))}),c(this,"unset",()=>{clearTimeout(this.showImageTimeout),clearTimeout(this.hideImageTimeout),this.onUnset(),this.hideImageTimeout=setTimeout(()=>{this.hideImages()},this.isHideDelayed?this.animationDuration:0)}),c(this,"onSetImage",()=>{}),c(this,"onUnset",()=>{}),c(this,"onShowImage",()=>{}),c(this,"onImageShown",()=>{}),c(this,"onHide",()=>{}),c(this,"onDestroy",()=>{}),c(this,"destroy",()=>{this.onDestroy(),clearTimeout(this.activeTimeout),clearTimeout(this.imageAnimatingTimeout),clearTimeout(this.showImageTimeout),clearTimeout(this.hideImageTimeout)});const{items:s,imageSelector:o}=this.props;this.itemLen=s.length,this.itemImages=s.map(t=>t.querySelector("img")),this.itemDimensions=this.itemImages.map(t=>(0,u.pG)(t)),this.last=null,this.currentIndex=-1,this.lastIndex=-1,this.animationDuration=600,this.isHideDelayed=!1,this.isPersistImages=!0,this.node=t,this.node.dataset.active=!1;for(let t=0,e=s.length;t<e;t+=1)s[t].dataset.active=null,s[t].dataset.animated=null,s[t].querySelector(o).style.transitionDuration=null;this.showImageTimeout=null,this.activeTimeout=null,this.hideImageTimeout=null}loadImages(){for(let t=0;t<this.itemLen;t++)this.makeImageFirstTimeVisible(t)}makeImageFirstTimeVisible(t){null!==this.itemImages[t]&&(this.itemImages[t].style.display="block")}showImage(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{items:i}=this.props;i[t].dataset.active=!1,i[t].dataset.animated=!e,i[t].parentNode.appendChild(i[t]),this.currentIndex=t,this.onShowImage(t,e),clearTimeout(this.activeTimeout),this.activeTimeout=setTimeout(()=>{i[t].dataset.active=!0,this.makeImageFirstTimeVisible(t),this.onImageShown()},e||!this.animationDuration?0:25),this.lastIndex=t}hideImages(){const{items:t}=this.props;clearTimeout(this.activeTimeout),this.onHide();for(let e=0,i=t.length;e<i;e+=1)t[e].dataset.active=!1,e!==this.currentIndex&&(t[e].dataset.animated=!1);this.currentIndex=-1}}function p(t,e,i){var s;return(e="symbol"==typeof(s=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?s:s+"")in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}c(g,"defaultProps",{items:[]});const v={medium:600,fast:300,slow:900};class f extends g{constructor(t,e){super(t,e),p(this,"setImageWidth",t=>{const e=this.itemImages[t];if(null===e)return;const i=e.getAttribute("width")/e.getAttribute("height"),s=Math.max(this.props.items[t].clientWidth,this.props.items[t].clientHeight*i);e.sizes=Math.ceil(s)+"px"}),p(this,"onResize",()=>{for(let t=0;t<this.itemLen;t++)this.setImageWidth(t)}),p(this,"onDestroy",()=>{});const{animationDuration:i}=this.props;this.animationDuration=v[i],this.isHideDelayed=!1,this.reset()}reset(){const{items:t,imageSelector:e}=this.props;for(let i=0,s=t.length;i<s;i+=1)t[i].querySelector(e).style.transitionDuration=this.animationDuration+"ms"}}p(f,"defaultProps",{items:[],imageSelector:".portfolio-hover-bg-img",animationDuration:"medium"});var w=i(92196),y=i(73864),b=i(1992),A=i(40221),S=i(71240);const I=(t,e,i,s)=>{const o=Math.min(t/i,e/s);return{width:i*o,height:s*o}};function z(t,e,i){var s;return(e="symbol"==typeof(s=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?s:s+"")in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}const k={fast:300,medium:600,slow:900};class x extends g{constructor(t,e){var i;super(t,e),i=this,z(this,"onSetImage",function(t){i.node.dataset.active=!0,i.startFollowing(t)}),z(this,"onShowImage",t=>{const{width:e,height:i}=this.state;this.resizeAnim.last=this.itemDimensions[this.lastIndex]||{width:e,height:i},this.resizeAnim.current=this.itemDimensions[t];const s=-1!==this.lastIndex;this.resizeImages(e,i),this.updateRatio(e,i,this.resizeAnim.current),this.resizeWrapper(s,this.resizeAnim.current.worldWidth,this.resizeAnim.current.worldHeight)}),z(this,"onUnset",()=>{this.stopFollowing(),this.node.dataset.active=!1}),z(this,"onScroll",()=>{const t=this.props.container.getBoundingClientRect();this.pos.target.offsetY=t.top}),z(this,"onResize",(t,e)=>{const i=this.node.clientWidth,s=this.node.clientHeight;this.setState({width:i,height:s,halfWidth:.5*i,halfHeight:.5*s,regionWidth:t,regionHeight:e}),this.resizeImages(i,s),this.updatePosition()}),z(this,"onEnter",t=>{if(this.state.isCursorActive)return;const{rootNode:e}=this.props,{clientX:i,clientY:s}=(0,y.np)(t);this.setTargetPosition(i,s),this.setState({isCursorActive:!0}),e.addEventListener(y.AZ.move,this.onMove)}),z(this,"onMove",t=>{const{clientX:e,clientY:i}=(0,y.np)(t);this.setTargetPosition(e,i)}),z(this,"onLeave",()=>{const{rootNode:t}=this.props;this.state.isCursorActive&&(this.setState({isCursorActive:!1}),t.removeEventListener(y.AZ.move,this.onMove))}),z(this,"tick",()=>{this.updatePosition(),this.frame=requestAnimationFrame(this.tick)}),z(this,"onDestroy",()=>{this.tween&&this.tween.destroy(),this.tween=null,this.unbindListeners(),cancelAnimationFrame(this.frame),clearTimeout(this.stopFollowingTimeout)});const{containerSelector:s,animationDuration:o,modeFollowSize:r,modeFollowAcceleration:n}=this.props;this.state={acceleration:.01*n,width:0,height:0,halfWidth:0,halfHeight:0,regionWidth:800,regionHeight:600,isCursorActive:!1,last:Date.now()},this.node.style.width=`${r}vmin`,this.node.style.height=`${r}vmin`,this.animationDuration=k[o],this.isPersistImages=!1,this.stopFollowingTimeout=null,this.reset(),this.pos={x:0,y:0,target:{x:0,y:0,offsetY:0}},this.tween=null,this.resizeAnim={value:0,last:{width:100,height:100,worldWidth:100,worldHeight:100},current:{width:100,height:100,worldWidth:100,worldHeight:100}},this.ref={container:this.node.querySelector(s)},this.frame=null,this.onDebounceScroll=(0,d.A)(this.onScroll,250),this.bindListeners()}reset(){const{items:t,imageSelector:e}=this.props;this.node.style.transitionDuration=this.animationDuration+"ms";for(let i=0,s=t.length;i<s;i+=1)t[i].querySelector(e).style.transitionDuration=this.animationDuration+"ms"}startFollowing(t){-1===this.currentIndex&&(this.pos.x=this.pos.target.x,this.pos.y=this.pos.target.y),clearTimeout(this.stopFollowingTimeout),cancelAnimationFrame(this.frame),this.frame=requestAnimationFrame(this.tick),this.updatePosition()}stopFollowing(){clearTimeout(this.stopFollowingTimeout),this.stopFollowingTimeout=setTimeout(()=>{cancelAnimationFrame(this.frame)},this.animationDuration)}bindListeners(){const{rootNode:t}=this.props;w.A.on(this.onDebounceScroll),t.addEventListener(y.AZ.enter,this.onEnter),y.AZ.leave.forEach(e=>t.addEventListener(e,this.onLeave)),this.onScroll()}unbindListeners(){const{rootNode:t}=this.props;w.A.off(this.onDebounceScroll),t.removeEventListener(y.AZ.enter,this.onEnter),t.removeEventListener(y.AZ.move,this.onMove),y.AZ.leave.forEach(e=>t.removeEventListener(e,this.onLeave))}resizeImages(t,e){const{items:i}=this.props;for(let s=0;s<this.itemLen;s+=1){const o=i[s],r=this.itemDimensions[s],n=I(t,e,r.width,r.height);o.style.width=`${n.width}px`,o.style.height=`${n.height}px`,null!==this.itemImages[s]&&(this.itemImages[s].sizes=o.style.width)}this.updateRatio(t,e,this.resizeAnim.last),this.updateRatio(t,e,this.resizeAnim.current),this.updateWrapper(t,e)}updateRatio(t,e,i){const s=Math.min(t/i.width,e/i.height);i.worldWidth=i.width*s,i.worldHeight=i.height*s}resizeWrapper(t,e,i){this.tween&&(this.tween.destroy(),this.tween=null),t?this.tween=new b.A({duration:.001*this.animationDuration,from:0,to:1,onUpdate:t=>{this.resizeAnim.value=t,this.updateWrapper()},onComplete:()=>{this.resizeAnim.value=1,this.updateWrapper()}}):this.updateWrapper(e,i)}updateWrapper(t,e){const{wrapper:i}=this.props;if(t&&e)return i.style.width=`${t}px`,void(i.style.height=`${e}px`);const{value:s}=this.resizeAnim,o=(0,A.Cc)(this.resizeAnim.last.worldWidth,this.resizeAnim.current.worldWidth,s),r=(0,A.Cc)(this.resizeAnim.last.worldHeight,this.resizeAnim.current.worldHeight,s);i.style.width=`${o}px`,i.style.height=`${r}px`}setTargetPosition(t,e){this.pos.target.x=t,this.pos.target.y=e}updatePosition(){const{acceleration:t,regionHeight:e,height:i,halfWidth:s,halfHeight:o}=this.state,r=this.pos.target.x,n=this.pos.target.y+-this.pos.target.offsetY;this.pos.x+=(r-this.pos.x)*t,this.pos.y+=(n-this.pos.y)*t;let a=this.pos.x-s,h=(0,S.A)(this.pos.y-o,0,e-i);this.node.style.transform="translate3d("+a+"px, "+h+"px, 0)"}}function D(t,e,i){var s;return(e="symbol"==typeof(s=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?s:s+"")in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}z(x,"defaultProps",{rootNode:document.createElement("div"),container:document.createElement("div"),wrapper:document.createElement("div"),items:[],animationDuration:"medium",containerSelector:".portfolio-hover-backgrounds-wrapper",imageSelector:".portfolio-hover-bg-img",modeFollowSize:75,modeFollowAcceleration:10});const T={fast:300,medium:600,slow:900};class P extends g{constructor(t,e){var i;super(t,e),i=this,D(this,"onSetImage",function(t){i.node.dataset.active=!0}),D(this,"onShowImage",t=>{const{width:e,height:i}=this.state;this.resizeAnim.last=this.itemDimensions[this.lastIndex]||{width:e,height:i},this.resizeAnim.current=this.itemDimensions[t];const s=-1!==this.lastIndex;this.resizeImages(e,i),this.updateRatio(e,i,this.resizeAnim.current),this.resizeWrapper(s,this.resizeAnim.current.worldWidth,this.resizeAnim.current.worldHeight)}),D(this,"onUnset",()=>{this.node.dataset.active=!1}),D(this,"onResize",(t,e)=>{const i=this.node.clientWidth,s=this.node.clientHeight;this.setState({width:i,height:s,halfWidth:.5*i,halfHeight:.5*s,regionWidth:t,regionHeight:e}),this.resizeImages(i,s)}),D(this,"onDestroy",()=>{this.tween&&this.tween.destroy(),this.tween=null});const{containerSelector:s,animationDuration:o,modeOriginalSize:r}=this.props;this.state={width:0,height:0,halfWidth:0,halfHeight:0,regionWidth:800,regionHeight:600},this.node.style.width=r+"vmin",this.node.style.height=r+"vmin",this.animationDuration=T[o],this.isPersistImages=!1,this.reset(),this.tween=null,this.resizeAnim={value:0,last:{width:100,height:100,worldWidth:100,worldHeight:100},current:{width:100,height:100,worldWidth:100,worldHeight:100}},this.ref={container:this.node.querySelector(s)}}reset(){const{items:t,imageSelector:e}=this.props;this.node.style.transitionDuration=this.animationDuration+"ms";for(let i=0,s=t.length;i<s;i+=1)t[i].querySelector(e).style.transitionDuration=this.animationDuration+"ms"}resizeImages(t,e){const{items:i}=this.props;for(let s=0;s<this.itemLen;s+=1){const o=I(t,e,this.itemDimensions[s].width,this.itemDimensions[s].height);i[s].style.width=`${o.width}px`,i[s].style.height=`${o.height}px`,this.itemImages[s].sizes=i[s].style.width}this.updateRatio(t,e,this.resizeAnim.last),this.updateRatio(t,e,this.resizeAnim.current),this.updateWrapper(t,e)}updateRatio(t,e,i){const s=Math.min(t/i.width,e/i.height);i.worldWidth=i.width*s,i.worldHeight=i.height*s}resizeWrapper(t,e,i){this.tween&&(this.tween.destroy(),this.tween=null),t?this.tween=new b.A({duration:.001*this.animationDuration,from:0,to:1,onUpdate:t=>{this.resizeAnim.value=t,this.updateWrapper()},onComplete:()=>{this.resizeAnim.value=1,this.updateWrapper()}}):this.updateWrapper(e,i)}updateWrapper(t,e){const{wrapper:i}=this.props;if(t&&e)return i.style.width=`${t}px`,void(i.style.height=`${e}px`);const{value:s}=this.resizeAnim,o=(0,A.Cc)(this.resizeAnim.last.worldWidth,this.resizeAnim.current.worldWidth,s),r=(0,A.Cc)(this.resizeAnim.last.worldHeight,this.resizeAnim.current.worldHeight,s);i.style.width=`${o}px`,i.style.height=`${r}px`}}D(P,"defaultProps",{wrapper:document.createElement("div"),items:[],animationDuration:"medium",imageSelector:".portfolio-hover-bg-img",containerSelector:".portfolio-hover-backgrounds-wrapper",modeOriginalSize:75});const H={"hover-cover":{Class:f,canPersist:!0},"hover-follow":{Class:x,canPersist:!1},"hover-static":{Class:P,canPersist:!0}};var W=i(49099);function L(t,e,i){var s;return(e="symbol"==typeof(s=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?s:s+"")in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class F extends l.A{constructor(t,e){super(e),L(this,"onItemOver",()=>{const{index:t,onItemOver:e}=this.props;e(t)}),L(this,"onItemOut",()=>{const{index:t,onItemOut:e}=this.props;e(t)}),L(this,"activate",t=>{this.state.isActive||(this.setState({isActive:!0}),this.node.dataset.active=!0)}),L(this,"deactivate",t=>{this.state.isActive&&(this.setState({isActive:!1}),this.node.dataset.active=!1)}),L(this,"destroy",()=>{this.unbindListeners()}),this.state={isActive:!1},this.node=t,this.bindListeners()}bindListeners(){this.node.addEventListener(y.AZ.enter,this.onItemOver),y.AZ.leave.forEach(t=>{this.node.addEventListener(t,this.onItemOut)})}unbindListeners(){this.node.removeEventListener(y.AZ.enter,this.onItemOver),y.AZ.leave.forEach(t=>{this.node.removeEventListener(t,this.onItemOut)})}}function M(t,e,i){var s;return(e="symbol"==typeof(s=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?s:s+"")in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}L(F,"defaultProps",{index:0,onItemOver:W.l,onItemOut:W.l});class E extends l.A{constructor(t){var e;super(),e=this,M(this,"parseTweak",{animation:t=>m(t),animationDuration:t=>m(t),delimiter:t=>m(t),height:t=>m(t),horizontalAlign:t=>m(t),layout:t=>m(t),modeFollowAcceleration:t=>parseFloat(t),modeFollowSize:t=>Number(t),modeOriginalSize:t=>Number(t),persistSelection:t=>"true"===t,selectionInFront:t=>"true"===t,spacingHorizontal:t=>parseFloat(t),spacingVertical:t=>parseFloat(t),verticalAlign:t=>m(t),width:t=>m(t)}),M(this,"parseTweaks",()=>Object.keys(this.tweaks.map).reduce((t,e)=>{const i=this.tweaks.map[e],s=a().getValue(e);return void 0!==s&&(t[i]=this.parseTweak[i]?this.parseTweak[i](s):s),t},{})),M(this,"loadImages",()=>{this.imageMode.loadImages()}),M(this,"onItemOver",t=>this.setItem(t)),M(this,"onItemOut",t=>this.unsetItem(t)),M(this,"setItem",function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(let s=0;s<e.itemLen;s+=1)t!==s?e.items[s].deactivate():(e.items[s].activate(),e.imageMode.setImage(s,i));e.setState({lastIndex:t,isHover:!0})}),M(this,"unsetItem",t=>{const{persistSelection:e,mode:i,lastIndex:s}=this.state,o=e&&this.checkIsPersistCapable(i);for(let t=0;t<this.itemLen;t+=1)o&&s===t?this.items[t].activate():this.items[t].deactivate();this.setState({isHover:!1});let r=s;o?this.imageMode.setImage(r,!1,!0):this.imageMode.unset()}),M(this,"checkIsPersistCapable",t=>H[t].canPersist),M(this,"onResize",()=>{const t=window.innerHeight,e=this.ref.items.clientHeight,i={...this.state,windowHeight:t,itemsHeight:e};this.setState({...i}),this.refreshDataset(i),this.refreshMode(i),this.refreshPersist();const s=this.node.clientWidth,o=Math.min(window.innerHeight,this.node.clientHeight);this.baseSticky&&this.baseSticky.refresh(),this.imageMode&&this.imageMode.onResize(s,o)}),M(this,"onRulerResize",t=>{this.node.style.minHeight=t+"px",this.baseSticky&&this.baseSticky.refresh()}),M(this,"destroy",()=>{var t,e;this.isDestroyed=!0,this.unbindListeners(),null===(t=this.ruler)||void 0===t||t.destroy(),this.ruler=null,null===(e=this.baseSticky)||void 0===e||e.destroy(),this.baseSticky=null,this.imageMode&&(this.imageMode.destroy(),this.imageMode=null);for(let t=0;t<this.itemLen;t+=1)this.items[t].destroy();this.items=[],this.itemLen=0});const{baseStickySelector:i,itemsSelector:s,listSelector:n,itemSelector:h,backgroundsSelector:l,itemBackgroundSelector:u,backgroundsWrapperSelector:c,backgroundSelector:g}=this.props;t.dataset.init=!0;const p={tweaks:{},...t.dataset.props?JSON.parse(t.dataset.props):{}};this.tweaks=Object.keys(p.tweaks).reduce((t,e)=>{const i=p.tweaks[e];return t.watch.push(i),t.map[i]=e,t},{watch:[],map:{}}),this.state={animation:"scale-up",animationDuration:"medium",customHeight:100,delimiter:"comma",height:"large",horizontalAlign:"center",layout:"inline",mode:"background",modeBackgroundLayout:"cover",modeFollowAcceleration:10,modeFollowSize:60,modeOriginalSize:75,persistSelection:!1,selectionInFront:!1,spacingHorizontal:.3,spacingVertical:.6,verticalAlign:"center",width:"full-bleed",...p,...this.parseTweaks(),isHover:!1,itemsHeight:0,lastIndex:0,windowHeight:0},t.dataset.stackedLayout=this.state.stackedLayout,this.node=t,this.ref={items:this.node.querySelector(s),list:this.node.querySelector(n),backgrounds:this.node.querySelector(l),itemBackground:Array.from(this.node.querySelectorAll(u)),backgroundsWrapper:this.node.querySelector(c),background:Array.from(this.node.querySelectorAll(g))},this.baseStickyNode=this.node.querySelector(i),this.items=Array.from(this.node.querySelectorAll(h)).map((t,e)=>new F(t,{index:e,onItemOver:this.onItemOver,onItemOut:this.onItemOut})),this.itemLen=this.items.length,this.imageMode=null,this.progress=0,this.onDebouncedResize=(0,d.A)(this.onResize,100),this.baseSticky=new o.A(this.baseStickyNode,{forceFixed:!1}),this.ruler=new r.A({onResize:this.onRulerResize}),this.bindListeners(),this.onResize(),this.state.persistSelection&&this.checkIsPersistCapable(this.state.mode)&&this.setItem(this.state.lastIndex,!0)}bindListeners(){this.node.addEventListener("mousemove",this.loadImages,{once:!0}),window.addEventListener(h.cx,this.onResize),s.A.on(this.onDebouncedResize)}unbindListeners(){this.node.removeEventListener("mousemove",this.loadImages),window.removeEventListener(h.cx,this.onResize),s.A.off(this.onDebouncedResize)}refreshPersist(){this.unsetItem(-1)}refreshDataset(t){this.node.dataset.layout=t.layout,this.node.dataset.delimiter=t.delimiter,this.node.dataset.activeItemFront=t.selectionInFront,this.node.dataset.mode=t.mode,this.node.dataset.width=t.width,this.node.dataset.height=t.height,this.node.dataset.customHeight=t.customHeight,this.node.dataset.verticalAlign=t.verticalAlign,this.node.dataset.horizontalAlign=t.horizontalAlign,this.node.dataset.modeBackgroundLayout=t.modeBackgroundLayout,this.node.dataset.animation=t.animation,this.node.dataset.animationDuration=t.animationDuration}refreshMode(t){let{mode:e,...i}=t;if(!H[e])throw new Error(`Mode of mode "${e}" does not exist`);this.imageMode&&(this.imageMode.destroy(),this.imageMode=null),this.imageMode=new H[e].Class(this.ref.backgrounds,{...i,rootNode:this.node,container:this.baseStickyNode,wrapper:this.ref.backgroundsWrapper,items:this.ref.background,secondaryItems:this.ref.itemBackground})}}M(E,"defaultProps",{baseStickySelector:".portfolio-hover-base-sticky",itemsSelector:".portfolio-hover-items",listSelector:".portfolio-hover-items-list",itemSelector:".portfolio-hover-item",itemBackgroundSelector:".portfolio-hover-item-background-wrapper",backgroundsSelector:".portfolio-hover-backgrounds",backgroundsWrapperSelector:".portfolio-hover-backgrounds-wrapper",backgroundSelector:".portfolio-hover-bg"});const O=t=>new E(t)},1992:(t,e,i)=>{i.d(e,{A:()=>a});var s=i(67373),o=i(40221),r=i(49099);function n(t,e,i){var s;return(e="symbol"==typeof(s=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?s:s+"")in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class a extends s.A{constructor(t){super(t),n(this,"tick",()=>{const{ease:t,from:e,to:i,duration:s,onUpdate:r,onComplete:n}=this.props,a=Date.now()-this.lastUpdate;this.lastUpdate+=a,this.time=(this.lastUpdate-this.startTime)/1e3,this.time>s&&(this.time=s),r((0,o.Cc)(e,i,t(this.time/s))),this.time>=s?n(i):requestAnimationFrame(this.tick)});const{autoStart:e}=this.props;this.state={isActive:!1},this.startTime=null,this.lastUpdate=null,this.frame=null,e&&this.start()}start(){this.state.isActive||(this.setState({isActive:!0}),this.startTime=Date.now(),this.lastUpdate=this.startTime,this.frame=requestAnimationFrame(this.tick))}destroy(){cancelAnimationFrame(this.frame)}}n(a,"defaultProps",{autoStart:!0,ease:function(t){return-(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)*(t/=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1)*(t-2)+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},duration:1,from:0,to:0,onUpdate:r.l,onComplete:r.l})},71240:(t,e,i)=>{i.d(e,{A:()=>s});const s=(t,e,i)=>t<e?e:t>i?i:t},40221:(t,e,i)=>{i.d(e,{Ae:()=>n,Cc:()=>s,Xn:()=>r,pj:()=>o});const s=(t,e,i)=>t*(1-i)+e*i,o=(t,e)=>{let i;for(i=1;i<e.length-1&&!(e[i]>=t);++i);return i-1},r=(t,e,i)=>{const s=o(i,t),r=t[s],n=t[s+1],a=e[s];return(i-r)/(n-r)*(e[s+1]-a)+a},n=(t,e,i,s)=>{const o=e[t],r=e[t+1],n=i[t],a=i[t+1],h=(s-o)/(r-o);return 1===i.length?n:h*(a-n)+n}},22902:(t,e,i)=>{i.d(e,{P6:()=>o,TT:()=>h,_v:()=>n,kr:()=>r,pG:()=>a});i(68444);var s=i(63285);const o=t=>{if(!t)return 1;if(!t.dataset.imageDimensions){const e=t.getAttribute("width"),i=t.getAttribute("height");return e&&i?+e/+i:1}const e=t.dataset.imageDimensions.split("x");return e[0]&&e[1]?+e[0]/+e[1]:void 0},r=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;if(t<=e)return t;const i=window.innerWidth;return i<=s.fi.sm?Math.max(e,Math.round(.25*t)):i<=s.fi.md?Math.max(e,Math.round(.5*t)):i<=s.fi.lg?Math.max(e,Math.round(.75*t)):t},n=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const e=window.innerWidth;let i=Math.max(1,t);return 1===i?i:e<=s.fi.sm?2:e<=s.fi.md?Math.max(Math.ceil(.5*i),2):e<=s.fi.lg?Math.ceil(.75*i):i},a=t=>{let e=0,i=0;const s={width:e,height:i};return t?(t.dataset.imageDimensions?[e,i]=t.dataset.imageDimensions.split("x"):(e=t.getAttribute("width"),i=t.getAttribute("height")),e&&i?{width:+e,height:+i}:s):s},h=t=>{const e={x:.5,y:.5};if(!t)return e;if(!t.dataset.imageFocalPoint)return e;const[i,s]=t.dataset.imageFocalPoint.split(",");return i&&s?{x:+i,y:+s}:e}}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/new-bedford-framework/sourcemaps/aeb6f32a47e1dd52e2696f39f8a5bc4d/scripts/portfolio-hover.a2e5d5187a59c32c5245.js.map