"use strict";(globalThis.webpackChunknew_bedford_framework=globalThis.webpackChunknew_bedford_framework||[]).push([[7072],{46418:(t,e,o)=>{o.d(e,{A:()=>h});o(94226);var n=o(21339),s=o(67373),r=o(86320),i=o(73864),l=o(52748);const u="squarespace-bgfx-prefer-paused";function a(t,e,o){var n;return(e="symbol"==typeof(n=function(t,e){if("object"!=typeof t||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?n:n+"")in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}const c=["startColor","endColor","baseColor","backgroundColor","imageTint","patternColor","color1","color2","color3","color4"];class h extends s.A{constructor(t,e){super(),a(this,"isDestroyed",!1),a(this,"onPauseButtonClick",()=>{var t;this.component.togglePaused(),(t=this.component.isPaused)?localStorage.setItem(u,t):localStorage.removeItem(u),this.component.isPaused&&l._.activeControllers.forEach(t=>{t!==this&&t.forcePaused()}),this.updateButtons()}),a(this,"getResolvedGenerativeContext",t=>{const e=this.resolveColorProperties(t,c);return{...t,...e}}),a(this,"handleUpdateThemeStyles",()=>{this.component.setProps(this.getResolvedGenerativeContext(this.currentGenerative))}),this.node=t,this.section=t.closest("section");const{currentStyles:o}=this.section.dataset;this.currentStyles=JSON.parse(o),this.currentGenerative=this.currentStyles.generative||{},this.initComponent(t,e),this.component.isSupported&&(this.initButtons(),this.bindListeners(),l._.activeControllers.push(this))}initComponent(t,e){const o=t.querySelector(".background-fx-canvas"),s=this.getResolvedGenerativeContext({pixelRatio:Math.min(1.5,devicePixelRatio),...this.currentGenerative});if(l._.componentCache)return this.component=l._.componentCache,this.component.unbindListeners(),this.component.attach(o),this.component.setProps(s),void this.component.refresh();this.component=new n.A(e,o,s,{reduceMotion:i.oZ||!!localStorage.getItem(u)})}initButtons(){const[t,e]=this.section.querySelectorAll(".background-pause-button");this.pauseButton=t,this.playButton=e,this.pauseButton.addEventListener("click",this.onPauseButtonClick),this.playButton.addEventListener("click",this.onPauseButtonClick),this.updateButtons()}forcePaused(){this.component.setPaused(!0),this.updateButtons()}updateButtons(){const{autoUpdate:t,isPaused:e}=this.component,o=this.pauseButton===document.activeElement,n=this.playButton===document.activeElement,s=t&&!e,r=t&&e;this.pauseButton.classList.toggle("visible",s),this.playButton.classList.toggle("visible",r),o&&r?this.playButton.focus():n&&s&&this.pauseButton.focus()}resolveColorProperties(t,e){return Object.fromEntries(Object.entries(t).filter(t=>{let[o]=t;return e.includes(o)}).map(t=>{let[e,o]=t;return[e,(0,r.jz)(o)]}))}bindListeners(){var t;null===(t=window.Y)||void 0===t||null===(t=t.Global)||void 0===t||t.on("colors:updateThemeStyles",this.handleUpdateThemeStyles)}unbindListeners(){var t;null===(t=window.Y)||void 0===t||null===(t=t.Global)||void 0===t||t.detach("colors:updateThemeStyles",this.handleUpdateThemeStyles)}unbindButtons(){this.playButton&&(this.pauseButton.removeEventListener("click",this.onPauseButtonClick),this.playButton.removeEventListener("click",this.onPauseButtonClick))}destroyComponent(){this.component&&this.component.destroy()}destroy(){this.isDestroyed||(this.isDestroyed=!0,this.unbindButtons(),this.unbindListeners(),this.destroyComponent(),l._.activeControllers.splice(l._.activeControllers.indexOf(this),1))}}},52748:(t,e,o)=>{o.d(e,{_:()=>n});const n={activeControllers:[],componentCache:null}},4146:(t,e,o)=>{o.r(e),o.d(e,{default:()=>i});var n=o(11589),s=o(46418);class r extends s.A{constructor(t){super(t,n.A)}}const i=t=>new r(t)},86320:(t,e,o)=>{o.d(e,{jz:()=>p,ww:()=>m});var n=o(37706);const s="SITE_PALETTE_COLOR",r="CUSTOM_COLOR",i="THEME_COLOR";const l=t=>t&&t.type===i,u=t=>t&&t.type===s,a=t=>t&&t.type===r,c=t=>{const e=function(t){let{saturation:e,lightness:o}=t;return e*=100,o*=100,{...t,saturation:e,lightness:o}}(t.customColor.hslaValue),o={userFormat:t.customColor.userFormat,values:e},s=(0,n.e)(o);return{type:r,customColor:s}},h=t=>({colorName:t.id??t.colorName,alphaModifier:t.alpha??t.alphaModifier??1}),d=new WeakMap;function p(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;if(!t||!o)return null;const{customColor:n,sitePaletteColor:s}=t,r=function(t){if(d.has(t))return d.get(t);const e=getComputedStyle(t);return d.set(t,e),e}(o);if(l(t)&&e)return r.getPropertyValue(e);if(u(t)){const{colorName:t,alphaModifier:e}=h(s);return`hsla(${r.getPropertyValue(`--${t}-hsl`)},${e})`}if(a(t)){return(null!=n&&n.hslaValue?c(t):t).customColor}return null}function m(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return null;const{customColor:o,sitePaletteColor:n}=t;if(l(t)&&e)return`var(${e})`;if(u(t)){const{colorName:t,alphaModifier:e}=h(n);return`hsla(var(--${t}-hsl),${e})`}if(a(t)){return(null!=o&&o.hslaValue?c(t):t).customColor}return null}}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/new-bedford-framework/sourcemaps/9d9ed84c5153c945b283fdcfc38a852a/scripts/background-gradient.f43d15cbf31f9b025e41.js.map